(()=>{"use strict";var e={7210:(e,a,t)=>{var n=t(7294),s=t(3935);const o=e=>({name:a,checked:t,onChange:s,label:o=a,value:r=a,className:l})=>n.createElement("label",Object.assign({"data-class":e},{className:l}),n.createElement("input",Object.assign({},{type:e,name:a,checked:t,onChange:s,value:r})),n.createElement("span",null,o)),r=o("radio"),l=o("checkbox"),i=({type:e="cases",onChange:a=(e=>{console.table(e.target,["value","checked"])})})=>n.createElement("fieldset",{className:"radio-options w2 as-table"},n.createElement(r,Object.assign({},{onChange:a,className:"w6 align-center",name:"radio-option",value:"deaths",label:"Deaths",checked:"deaths"===e})),n.createElement(r,Object.assign({},{onChange:a,className:"w6 align-center",name:"radio-option",value:"cases",label:"Cases",checked:"cases"===e})));var d=t(1663),c=t(3253),g=t.n(c);const p=JSON.parse('["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]'),u={overlay:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{border:"1px solid #131313",background:"#333",overflow:"visible",borderRadius:"4px",outline:"none",padding:"20px",top:"50%",left:"30%",right:"30%",bottom:"auto",transform:"translateY(-50%)"}},h=({states:e=[],setOpen:a=(()=>{}),setStates:t=(()=>{})})=>n.createElement(g(),{isOpen:!0,onRequestClose:()=>a(!1),style:u,contentLabel:"state selector"},n.createElement(d.ZP,Object.assign({},{className:"reactSelect-container",classNamePrefix:"reactSelect",menuPlacement:"auto",value:e.map((e=>({label:e,value:e}))),options:p.map((e=>({label:e,value:e}))),isMulti:!0,isClearable:!1,onChange:e=>{e&&Array.isArray(e)?t(e.map((({value:e})=>e))):t([])}}))),m="changeType",y="toggleScale",f="includeUS",b="upStates",k="toggleDeltas",v={[m]:(e,{payload:a})=>({...e,type:a}),[y]:(e,{payload:a})=>({...e,logScale:a}),[f]:(e,{payload:a})=>({...e,includeUS:a}),[k]:(e,{payload:a})=>({...e,deltas:a}),[b]:(e,{payload:a})=>({...e,states:a})},w=({type:e="deaths",includeUS:a=!1,logScale:t=!1,states:n=[],deltas:s=!1})=>({type:e,logScale:t,includeUS:a,states:n,deltas:s}),S=(e,a)=>{const t=v[a.type];return t?t(e,a):e},E={dispatch:()=>{},type:"deaths",includeUS:!0,logScale:!1,deltas:!1,states:["New York","Texas","Florida","Kentucky","Tennessee","California"]},x=n.createContext(E),C=x,O=({children:e})=>{const[a,t]=(s=E,(0,n.useReducer)(S,s,w));var s;return n.createElement(x.Provider,{value:{...a,dispatch:t}},e)},j=()=>{const{dispatch:e,type:a,includeUS:t,logScale:s,states:o,deltas:r}=n.useContext(C),[d,c]=n.useState(!1);return n.createElement("div",{className:"x1 y1 w12 h1 as-grid one-row"},n.createElement(i,Object.assign({},{type:a,onChange:a=>e({type:m,payload:a?.target?.value||"deaths"})})),n.createElement("fieldset",{className:"w4 as-table"},n.createElement(l,Object.assign({},{className:"w4",checked:r,label:"Show Deltas",onChange:a=>e({type:k,payload:!r})})),n.createElement(l,Object.assign({},{className:"w4",checked:t,label:"Include US",onChange:a=>e({type:f,payload:!t})})),n.createElement(l,Object.assign({},{className:"w4",checked:s,label:"Log Scale",onChange:a=>e({type:y,payload:!s})}))),n.createElement("div",{className:"w2"},n.createElement("button",{onClick:()=>c(!0)},"select states"),d?n.createElement(h,Object.assign({},{states:o,setOpen:c,setStates:a=>{console.log(a),e({type:b,payload:a})}})):null))};var N=t(8910),L=t(2510),W=t(7891),M=t(9368),U=t(3466),D=t(1949),T=t(8602),A=t(6486);const F=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],P="#808080",R="#acacac",z="#ffffff",I="#131313",Z={width:360,height:360,padding:{top:48,bottom:48,left:48,right:48}},K={fontFamily:"'Helvetica Neue', 'Helvetica', sans-serif",fontSize:14,letterSpacing:"normal",padding:8,fill:z,stroke:"transparent",strokeWidth:0},q=(0,A.assign)({textAnchor:"middle"},K),H="round",V="round",_={area:(0,A.assign)({style:{data:{fill:I},labels:K}},Z),axis:(0,A.assign)({style:{axis:{fill:"transparent",stroke:R,strokeWidth:2,strokeLinecap:H,strokeLinejoin:V},axisLabel:(0,A.assign)({},q,{padding:8,stroke:"transparent"}),grid:{fill:"none",stroke:P,strokeDasharray:"10, 5",strokeLinecap:H,strokeLinejoin:V,pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:R,strokeWidth:1,strokeLinecap:H,strokeLinejoin:V},tickLabels:(0,A.assign)({},K,{fill:z})}},Z),polarDependentAxis:(0,A.assign)({style:{ticks:{fill:"transparent",size:1,stroke:"transparent"}}}),bar:(0,A.assign)({style:{data:{fill:z,padding:8,strokeWidth:0},labels:K}},Z),boxplot:(0,A.assign)({style:{max:{padding:8,stroke:z,strokeWidth:1},maxLabels:(0,A.assign)({},K,{padding:3}),median:{padding:8,stroke:z,strokeWidth:1},medianLabels:(0,A.assign)({},K,{padding:3}),min:{padding:8,stroke:z,strokeWidth:1},minLabels:(0,A.assign)({},K,{padding:3}),q1:{padding:8,fill:z},q1Labels:(0,A.assign)({},K,{padding:3}),q3:{padding:8,fill:z},q3Labels:(0,A.assign)({},K,{padding:3})},boxWidth:20},Z),candlestick:(0,A.assign)({style:{data:{stroke:z},labels:(0,A.assign)({},K,{padding:5})},candleColors:{positive:"#ffffff",negative:z}},Z),chart:Z,errorbar:(0,A.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:z,strokeWidth:2},labels:K}},Z),group:(0,A.assign)({colorScale:F},Z),histogram:(0,A.assign)({style:{data:{fill:z,stroke:I,strokeWidth:2},labels:K}},Z),legend:{colorScale:F,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:K,title:(0,A.assign)({},K,{padding:5})}},line:(0,A.assign)({style:{data:{fill:"transparent",opacity:1,stroke:z,strokeWidth:2},labels:K}},Z),pie:(0,A.assign)({colorScale:F,style:{data:{padding:8,stroke:P,strokeWidth:1},labels:(0,A.assign)({},K,{padding:20})}},Z),scatter:(0,A.assign)({style:{data:{fill:z,opacity:1,stroke:"transparent",strokeWidth:0},labels:K}},Z),stack:(0,A.assign)({colorScale:F},Z),tooltip:{style:(0,A.assign)({},K,{padding:0,pointerEvents:"none"}),flyoutStyle:{stroke:I,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},flyoutPadding:5,cornerRadius:5,pointerLength:10},voronoi:(0,A.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:(0,A.assign)({},K,{padding:5,pointerEvents:"none",fill:I}),flyout:{stroke:I,strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},Z)};var B=t(9849),Y=t(9734),J=t.n(Y);const $=e=>a=>J()(e.map((({date:e,[a]:t})=>({x:(0,B.Z)(e),y:t}))),[({x:e})=>e]),G={year:"2-digit",month:"short",day:"2-digit"},X={year:"2-digit",month:"2-digit",day:"2-digit"},Q=e=>e instanceof Date?e:(0,B.Z)(e),ee=e=>a=>e.toLocaleDateString(void 0,a),ae=({datasets:e})=>{const{logScale:a}=n.useContext(C),t=n.useRef(void 0),{width:s,height:o}=(e=>{const[{x:a,y:t,width:s,height:o},r]=(0,n.useState)({x:0,y:0,width:0,height:0});return(0,n.useLayoutEffect)((()=>{let a;return e?.current&&(r(e.current.getBoundingClientRect()),a=()=>{r(e.current.getBoundingClientRect())},window.addEventListener("resize",a)),()=>{a&&window.removeEventListener("resize",a)}}),[e?.current]),{x:a,y:t,width:s,height:o}})(t);return console.log({importantDates}),n.createElement("div",Object.assign({className:"plot x1 y2 w12 h11"},{ref:t}),e.length&&s&&o?n.createElement(n.Fragment,null,n.createElement(N.Z,Object.assign({},{theme:_},{width:s,height:o,scale:{x:"time",y:a?"sqrt":"linear"},domainPadding:{x:[0,0],y:[0,96]},padding:{...Z.padding,top:0,left:16,right:16},containerComponent:n.createElement(L.Z,Object.assign({},{theme:_},{labels:({datum:e})=>{return`[${a=e.x,ee(Q(a))(G)}]: ${(0,T.WU)(",.0d")(e.y)}`;var a},labelComponent:n.createElement(W.Z,Object.assign({},{theme:_},{constrainToVisibleArea:!0}))}))}),n.createElement(M.Z,Object.assign({},{theme:_},{x:96,style:{data:{stroke:"white"},border:{stroke:"white"}},name:"legend",orientation:"horizontal",gutter:20,data:e.map((({name:e,color:a})=>({name:e,symbol:{fill:a}})))})),n.createElement(U.Z,Object.assign({},{theme:_},{tickFormat:e=>ee(Q(e))(X),tickCount:5})),n.createElement(U.Z,Object.assign({},{theme:_},{dependentAxis:!0,tickCount:6,tickFormat:(0,T.WU)(",~s"),offsetX:64})),importantDates.map((e=>n.createElement(D.Z,{key:e,samples:2,x:()=>Q(e),style:{data:{stroke:"rgba(255, 0, 0, 0.5)"}}}))),e.map((({name:e,data:a,color:t})=>n.createElement(D.Z,Object.assign({key:e},{theme:_,name:e},{style:{data:{stroke:t}},data:a,interpolation:"monotoneX"})))))):null)};var te=t(9669),ne=t.n(te),se=t(6264);const oe=(e=>{const a=ne().create({baseURL:"https://disease.sh/v3/covid-19/"});return a.interceptors.response.use((e=>(e.data&&/^application\/json/.test(e.headers["content-type"])&&(e.data=(0,se.camelizeKeys)(e.data)),e))),a.interceptors.request.use((e=>{const a={...e};return"multipart/form-data"===a.headers["Content-Type"]||(e.params&&(a.params=(0,se.decamelizeKeys)(e.params)),e.data&&(a.data=(0,se.decamelizeKeys)(e.data))),a})),a})(),re=e=>{const[a,t]=(0,n.useState)(0);return(0,n.useEffect)((()=>{let n=0;return e&&(n=window.setInterval((()=>{t(a+1)}),1e3*e)),()=>{n&&window.clearInterval(n)}}),[e]),a},le=(e,a)=>({...e,...a}),ie={"New York":"#008BC4",Alabama:"#996633",Arizona:"#16256b",California:"#000080",Delaware:"#71a1a0",Florida:"#cc6500",Georgia:"#993366",Hawaii:"#f00c0f",Idaho:"#339966",Indiana:"#0000cc",Kentucky:"#ffe39b",Louisiana:"#c41e3a",Maryland:"#336699",Massachusetts:"#0000ff",Minnesota:"#800080",Nevada:"#c0c0c0","New Hampshire":"#fa500","New Jersey":"#f0dc82","New Mexico":"#ffff00","North Carolina":"#cc0000",Ohio:"#0000ff",Oklahoma:"#008000",Oregon:"#ccac00",Pennsylvania:"#008800","South Carolina":"#00416a","South Dakota":"#ffd700",Tennessee:"#ff7f00",Texas:"#ff0000",Utah:"#ffcc33",Vermont:"#006400","West Virginia":"#cfb53b",Wyoming:"#a52a2a"},de=()=>{const{type:e,includeUS:a,states:t,deltas:s}=n.useContext(C),o=((e="deaths",a=10)=>{const[{data:t,loading:s,loaded:o,error:r},l]=(0,n.useReducer)(le,void 0,(()=>({data:[],loading:!1,loaded:!1,error:void 0}))),i=re(60*a),d=e=>{l({loading:!0,loaded:!1,error:void 0,data:[]}),(async()=>{let e=[];try{e=(await oe("nyt/usa")).data}catch(e){console.log({err:e})}finally{return e}})().then((a=>{l({loading:!1,loaded:!0,error:void 0,data:[{name:"United States",color:"cyan",data:$(a)(e)}]})}))};return(0,n.useEffect)((()=>{d(e)}),[e]),(0,n.useLayoutEffect)((()=>{i&&d(e)}),[e,i]),{data:t,loading:s,loaded:o,error:r}})(e),{datasets:r,loading:l,loaded:i,error:d}=((e,a="deaths",t=10)=>{const[{data:s,loading:o,loaded:r,error:l},i]=(0,n.useReducer)(le,void 0,(()=>({data:[],loading:!1,loaded:!1,error:void 0}))),d=re(60*t),c=async(e,a,t)=>{const n=await Promise.all(e.map((e=>(async e=>{let a=[];try{a=(await oe(`nyt/states/${encodeURIComponent(e)}?lastdays=all`)).data}catch(e){console.log({err:e})}finally{return a}})(e).then((t=>({name:e,color:ie[e]||"lightgray",data:$(t)(a)}))))));t&&t({loading:!1,loaded:!0,error:void 0,data:n})};return(0,n.useEffect)((()=>{let t=i;return e.length&&(t&&t({loading:!0,loaded:!1,error:void 0,data:[]}),c(e,a,t)),()=>{t=void 0}}),[e.sort().join("|"),a]),(0,n.useLayoutEffect)((()=>{let t=i;return e.length&&d&&(t&&t({loading:!0,loaded:!1,error:void 0,data:[]}),c(e,a,t)),()=>{t=void 0}}),[e.sort().join("|"),a,d]),{datasets:s,loading:o,loaded:r,error:l}})(t,e),c=n.useMemo((()=>{let e=[];return r.length&&e.push.apply(e,r),a&&o.data.length&&e.push.apply(e,o.data),((e,a)=>{if(!e)return a;const t=(n=7,(e,a)=>{const[{y:t},...s]=e.slice(a-n-1,a);return s.reduce((e=>(a,{y:t},n,s)=>a+Math.max(0,n?t-s[n-1].y:t-e))(t),0)/n});var n;return a.map((({data:e,...a})=>({...a,data:e.map(((e,a,n)=>{if(a<=7)return e;const s=t(n,a);return{...e,y:s}}))})))})(s,e)}),[!l&&i,!o.loading&&o.loaded,a,s]);return d?d.toString():!l&&i?n.createElement(ae,Object.assign({},{datasets:c})):"Loading..."},ce=window.document.createElement("div");ce.style.display="contents",window.document.body.appendChild(ce),(0,s.render)(n.createElement((()=>{const[e,a]=n.useState("cases"),[t,s]=n.useState(!0),[o,r]=n.useState(["New York","Texas","Florida","Kentucky","Tennessee","California"]);return n.createElement(O,null,n.createElement("main",{style:{display:"contents"}},n.createElement(de,Object.assign({},{type:e,states:o,includeUS:t})),n.createElement(j,Object.assign({},{type:e,setType:a,includeUS:t,toggleUS:s,states:o,setStates:r}))))}),null),ce)}},a={};function t(n){if(a[n])return a[n].exports;var s=a[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,t.x=e=>{},t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={514:0},a=[[7210,216]],n=e=>{},s=(s,o)=>{for(var r,l,[i,d,c,g]=o,p=0,u=[];p<i.length;p++)l=i[p],t.o(e,l)&&e[l]&&u.push(e[l][0]),e[l]=0;for(r in d)t.o(d,r)&&(t.m[r]=d[r]);for(c&&c(t),s&&s(o);u.length;)u.shift()();return g&&a.push.apply(a,g),n()},o=self.webpackChunkcovid_19=self.webpackChunkcovid_19||[];function r(){for(var n,s=0;s<a.length;s++){for(var o=a[s],r=!0,l=1;l<o.length;l++){var i=o[l];0!==e[i]&&(r=!1)}r&&(a.splice(s--,1),n=t(t.s=o[0]))}return 0===a.length&&(t.x(),t.x=e=>{}),n}o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o));var l=t.x;t.x=()=>(t.x=l||(e=>{}),(n=r)())})(),t.x()})();